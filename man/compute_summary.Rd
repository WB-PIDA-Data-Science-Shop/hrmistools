% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summary_statistics.R
\name{compute_summary}
\alias{compute_summary}
\title{Compute grouped summary statistics for multiple variables}
\usage{
compute_summary(data, cols, fns = NULL, groups, output = c("long", "wide"))
}
\arguments{
\item{data}{A data frame or tibble containing the variables to summarize.}

\item{cols}{A character vector of variable names to summarize, or a list
with an element `vars` (e.g., `list(vars = c("var1", "var2"))`).}

\item{fns}{Optional. A specification of the summary functions to apply:
- `NULL` (default): applies all default functions returned by [define_fns()].
- A **character vector** of function names (e.g., `c("mean", "sd")`)
  referring to defaults in [define_fns()].
- A **list** of formulas (e.g., `list(mean = ~mean(.x, na.rm = TRUE))`)
  or a mix of character names and formulas.}

\item{groups}{A character vector of grouping variables used for aggregation.}

\item{output}{Character, either `"long"` or `"wide"`. If `"long"`, reshapes
the results into a tidy format with columns `indicator` and `value`.
Defaults to `"long"`.}
}
\value{
A tibble containing grouped summary statistics.
- If `output = "wide"`, each statistic appears as a separate column.
- If `output = "long"`, the data are in tidy (long) format with one row per
  group-variable-statistic combination.
}
\description{
A flexible wrapper around `dplyr::summarise()` and `dplyr::across()` that
computes one or more summary statistics for a set of numeric variables,
optionally grouped by one or more categorical variables. Users can choose
from built-in summary functions defined in [define_fns()] or supply their own.
}
\details{
This function simplifies grouped summaries by handling:
- Flexible function definitions (`fns`) using formula notation `~expr(.x)`.
- Integration with user-defined functions via [define_fns()].
- Optional long/wide reshaping for tidy analysis workflows.
}
\section{Default Functions}{

The default functions are defined in [define_fns()] and typically include:
`sum`, `mean`, `median`, `cv`, and `cp_ratio`. These can be customized or
extended by modifying `define_fns()`.
}

\examples{
df <- tibble::tibble(
  country = rep(c("A", "B"), each = 5),
  year = rep(2020:2021, times = 5),
  income = runif(10, 1000, 2000),
  expenditure = runif(10, 500, 1500)
)

 # Default summaries by country and year
compute_summary(data = df,
                cols = c("income", "expenditure"),
                groups = c("country", "year"),
                fns = "mean")

 # Select specific functions
 compute_summary(data = df,
                cols = c("income"),
                groups = c("country"),
                fns = c("mean", "sd"),
                output = "wide")

 # Custom function
 compute_summary(df,
                cols = "income",
                groups = "country",
                fns = list("cv",
                           q90 = ~quantile(.x, 0.9, na.rm = TRUE)))

}
\seealso{
[define_fns()], [dplyr::summarise()], [tidyr::pivot_longer()]
}
