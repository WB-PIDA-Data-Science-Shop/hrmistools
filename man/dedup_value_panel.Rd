% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/harmonization_fns.R
\name{dedup_value_panel}
\alias{dedup_value_panel}
\title{Deduplicate and disambiguate an attribute using both lag and lead values}
\usage{
dedup_value_panel(data, attr_col, id_col, date_col)
}
\arguments{
\item{data}{A data frame.}

\item{attr_col}{Attribute to disambiguate (unquoted).}

\item{id_col}{Unique identifier column (unquoted).}

\item{date_col}{Date column for ordering (unquoted).}
}
\value{
A deduplicated data frame with attribute filled from neighbors when missing or conflicting.
}
\description{
Handles missing values and cases where the same date has conflicting
attribute values by inferring from the closest neighbor (lag first, then lead).
}
\examples{
library(tibble)

df <- tibble(
  worker_id = c(1, 1, 1, 2, 2, 2, 2),
  gender    = c(NA, "M", "F", "F", NA, "M", "F"),
  ref_date  = as.Date(c(
    "2023-01-01", "2023-01-02", "2023-01-02",
    "2023-01-01", "2023-01-02", "2023-01-03", "2023-01-03"
  ))
)

dedup_value_panel(df, gender, worker_id, ref_date)

}
