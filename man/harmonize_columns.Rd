% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/harmonization_fns.R
\name{harmonize_columns}
\alias{harmonize_columns}
\title{Harmonize column names based on a dictionary}
\usage{
harmonize_columns(data, cols)

harmonize_columns(data, cols)
}
\arguments{
\item{data}{A data frame or tibble.}

\item{cols}{A character vector of column names to check.}

\item{dictionary}{Either a named character vector (names are the desired standardized
column names and values are the original column names), or a data frame with
two columns: `from` (original column names) and `to` (standardized names).}
}
\value{
A data frame with harmonized column names.

A tibble with all requested columns, missing ones filled with NA.
}
\description{
This function standardizes column names in a data frame using a dictionary
that maps inconsistent or time-varying column names to a standardized set of column names.

If any column in `cols` is missing from `data`, this function adds it
and populates it with NA values.
}
\examples{
# Using a named character vector
dict <- c("age" = "Q1_age", "gender" = "Q2_sex", "income" = "Q3_income")
df <- data.frame(Q1_age = 25, Q2_sex = "M", Q3_income = 50000)
harmonize_columns(df, dict)

# Using a data frame dictionary
dict_df <- data.frame(
  from = c("Q1_age", "Q2_sex", "Q3_income"),
  to = c("age", "gender", "income")
)
harmonize_columns(df, dict_df)

df <- tibble(a = 1:3, b = letters[1:3])
ensure_columns(df, c("a", "b", "c"))
}
