% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/indicator_fns.R
\name{compute_wagebill_bygroup}
\alias{compute_wagebill_bygroup}
\title{Compute Summary Statistics and Custom Metrics by Group}
\usage{
compute_wagebill_bygroup(
  contract_df,
  wage_vars,
  group_vars,
  time_var = "year",
  choice_fns = c("sum", "mean", "median", "cv"),
  user_fns = NULL
)
}
\arguments{
\item{contract_df}{A data frame containing the data to summarize.}

\item{wage_vars}{Character vector of column names in `contract_df` to summarize.}

\item{group_vars}{Character vector of column names to group by (e.g., "paygrade").}

\item{time_var}{Character string specifying an optional time variable. Defaults to `"year"`.
If `NULL`, no time grouping is applied.}

\item{choice_fns}{Character vector of names of default summary functions to compute.
Options include `"sum"`, `"mean"`, `"median"`, `"cv"`. Defaults to all four.}

\item{user_fns}{Named list of **user-defined functions** or formulas to compute additional statistics.
Example: `list(cp_ratio = ~cp_ratio(.x))`.}
}
\value{
A tibble in long format with columns:
\describe{
  \item{group_vars}{Grouping variables used.}
  \item{time_var}{Time variable if provided.}
  \item{indicator}{The variable and statistic, e.g., `base_salary_lcu_mean`.}
  \item{value}{The computed value.}
}
}
\description{
Computes selected summary statistics (sum, mean, median, coefficient of variation, etc.)
for one or more numeric variables, grouped by one or more categorical variables
and optionally by a time variable. Users can also pass in **custom summary functions**.
}
\details{
The function computes the selected summary statistics for each combination of `group_vars`
and `time_var` (if provided). The results are returned in **long format** with columns:
\code{indicator} (variable and statistic) and \code{value} (computed result).

**Default functions included:**
- `sum` : total sum of values
- `mean` : arithmetic mean
- `median` : median value
- `cv` : coefficient of variation (sd/mean)

Users can define their own functions (e.g., compression ratios) and pass them via `user_fns`.
}
